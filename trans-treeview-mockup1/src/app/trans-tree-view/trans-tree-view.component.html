


 <form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="container pt-5" style = "margin-left:30px;" >

  <div class="row d-flex justify-content-start">
   

    <ul class="transaction-transaction-tree">
    
        <li *ngFor="let parent of treeMainDs; let j = index" style="list-style-type: none;" id="transaction-row-li">
        <input type="checkbox" checked="checked" style="display:none" id="{{'j'+j}}" />
        

        <label  *ngIf="parent.hasChild" class="transaction-tree_label" for="{{'j'+j}}">

              {{parent.name}}
        </label>
        


        <label *ngIf="!parent.hasChild" class="transaction-tree_label--empty" for="{{'j'+j}}">
          {{parent.name}}
        </label>

      
      <button [hidden]="parent.hasChild" type= "button" class = "btn btn-success btn-sm">...</button>

        <ul style="list-style-type: none;">


            <div [formArrayName]="parent.name"
              *ngFor="let item of form.get(parent.name).controls; let i = index;">
              <div [formGroupName]="i">
                <li *ngFor = "let child of parent.childObj | keyvalue" class="row-transaction">
                <label style = "width:24%;font-size: 0.7em;" class="list-group-item list-group-item-action list-group-item-light " class="transaction-tree_label2"
                  for="{{j}}">
                  <a href="#" 
                  class="list-group-item list-group-item-action list-group-item-light" 
                  style = "border-color: #F2F2F2; ">{{child.key}}</a>
                </label>

                <input [formControlName]="child.key" type="text" class="form-control row-input-transaction" rows="2" aria-label="Text input with segmented dropdown button">

                </li>
                <div *ngIf = "!parent.hasChild">
                  <input  [formControlName]="parent.name" type="text" class="form-control row-input-transaction" rows="2" aria-label="Text input with segmented dropdown button"> 
                </div>
              </div>
              
            </div>
        </ul>
      </li>
      

      </ul>

  </div>
</div>

<button>Submit</button>
</form>